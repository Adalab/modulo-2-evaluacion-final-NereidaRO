"use strict";console.log("The script is linked!");const searchListHTML=document.querySelector(".js-search-list"),favListHTML=document.querySelector(".js-fav-list"),form=document.querySelector(".js-form"),inputSearch=document.querySelector(".js-input-search"),buttonSearch=document.querySelector(".js-button-search"),buttonReset=document.querySelector(".js-button-reset");let foundedAnimes=[],favourites=[];function writeAnime(e){let n="";for(const t of e)"https://cdn.myanimelist.net/img/sp/icon/apple-touch-icon-256.png"===t.image?n+=`<li class="main__li js-li-anime">\n        <img src="https://via.placeholder.com/210x295/ffffff/666666/?text=TV" />\n        <h6 class="main__h6">${t.title}<h6>\n        </li>`:n+=`<li class="main__li js-li-anime">\n        <img src="${t.image}" />\n        <h6 class="main__h6">${t.title}<h6>\n        </li>`;return console.log(n),n}function listenAnime(e){for(const n of e)n.addEventListener("click",handleFav)}function renderAnime(e,n){n.innerHTML=writeAnime(e),listenAnime(e)}function searchAnime(){const e=inputSearch.value.toLowerCase();fetch("https://api.jikan.moe/v4/anime?q="+e).then(e=>e.json()).then(e=>{let n=e.data;foundedAnimes=n.map(({mal_id:e,title:n,images:t})=>({id:e,title:n,image:t.jpg.image_url})),console.log(foundedAnimes),renderAnime(foundedAnimes,searchListHTML)})}function handleSearch(e){e.preventDefault(),searchAnime()}function handleReset(e){e.preventDefault()}function handleFav(e){const n=e.currentTarget.id,t=foundedAnimes.find(e=>e.id===n),i=favourites.findIndex(e=>e.id===n);console.log(t),console.log(i),-1===i?favourites.push(t):favourites.splice(i,1),console.log(favourites),renderAnime(favourites,favListHTML)}buttonSearch.addEventListener("click",handleSearch),buttonReset.addEventListener("click",handleReset);